# Example cross-compile environment for MinGW 32-bit

# MXE and toolchain directories.
mxedir=$HOME/source/mxe

# The path where the cross-compiled packages will be installed.
PREFIX=$HOME/mingw

# Number of parallel make jobs.
PARALLEL=4

# CMake toolchain configuration.
CMAKE_TOOLCHAIN_FILE=$mxedir/usr/$HOST/share/cmake/mxe-conf.cmake

# Override list of modules built by default.
DEFAULT_MODULES='libusb libserialport libsigrok libsigrokdecode'\
' sigrok-firmware sigrok-dumps sigrok-cli pulseview sigrok-installer'

# Where to place Windows installer executable.
NSIS_DESTDIR=$HOME/Public/sigrok

# Whether to delete old installers in NSIS_DESTDIR.
NSIS_REMOVE_OLD=yes

# configure arguments to use for building library modules.
LIB_CONFIGURE_ARGS='"CPPFLAGS=-D__printf__=__gnu_printf__" --enable-static --disable-shared'

# Module-specific configure/cmake arguments.
CONFIGURE_ARGS_libsigrok='--enable-warnings=fatal --disable-java'

CONFIGURE_ARGS_libsigrokdecode='--enable-warnings=fatal'
CONFIGURE_ARGS_sigrok_cli='"CPPFLAGS=-D__printf__=__gnu_printf__" --enable-warnings=fatal'

CONFIGURE_ARGS_pulseview='-DFORCE_QT4=ON -DDISABLE_WERROR=OFF'

# Module-specific make arguments.
MAKE_ARGS_libusb='-j1'

# Environment variables
PATH=$mxedir/usr/bin:$PATH
PKG_CONFIG=$HOST-pkg-config
PKG_CONFIG_PATH_i686_w64_mingw32_static=$PREFIX/lib/pkgconfig:$PREFIX/share/pkgconfig

export PATH PKG_CONFIG PKG_CONFIG_PATH_i686_w64_mingw32_static
